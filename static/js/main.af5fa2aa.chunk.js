(this["webpackJsonpdisease-classifier"]=this["webpackJsonpdisease-classifier"]||[]).push([[0],{20:function(e,t,a){e.exports=a(37)},25:function(e,t,a){},26:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},27:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(16),r=a.n(s),c=(a(25),a(3)),l=a(4),o=a(6),u=a(5),p=a(7),h=(a(26),a(27),function(){return i.a.createElement("header",{className:"header-container"},i.a.createElement("h1",{className:"header-heading"},"Disease Classifier"),i.a.createElement("nav",{className:"header-nav"},i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{href:"#/"},"Hypertension")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{href:"#/kidney-disease"},"Kidney Disease"))))}),m=a(9),f=a.n(m),d=function(){return(new f.a).toISOString().substr(0,10).replace(/-/g,"/")},g=function(e,t){return e>=180&&t>=120?3:e>=160&&e<180||t>=100&&t<110?2:e>=140&&e<160||t>=90&&t<100?1:t>=110?-1:0},y=function(e){return 3===e?"Stage 3":2===e?"Stage 2":1===e?"Stage 1":-1===e?"Unclassified: Possibly Stage 2 please manually verify":"No Hypertension"},v=function(e,t,a){var n="".concat(e,"/").concat(t),i=g(e,t);return{bloodPressure:n,date:a,sysBp:e,diaBp:t,classification:y(i)}},b=function(e){var t,a=!(!(t=e)||0===t.length)&&t.reduce((function(e,t){return f()(e.atDate,"YYYY/MM/DD.")>f()(t.atDate,"YYYY/MM/DD.")?e:t})),n=a.atDate;return v(a.SysBP,a.DiaBP,n)},E=function(){return[{SysBP:120,DiaBP:90,atDate:"2018/10/31"},{SysBP:115,DiaBP:100,atDate:"2018/10/20"}]},O=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={},a.handleClick=function(e){var t=g(a.state.sysBp,a.state.diaBp),n=y(t);a.setState({classificationResults:v(a.state.sysBp,a.state.diaBp,a.state.date),classification:n})},a.handleSysBpChange=function(e){a.setState({sysBp:e.target.value})},a.handleDiaBpChange=function(e){a.setState({diaBp:e.target.value})},a.getClassificationHighlight=function(e){return"Stage 1"===e?"blue":"Stage 2"===e?"yellow":"Stage 3"===e?"red":e.includes("Unclassified")?"unknown":""};var n=E(),i=b(n);return a.state={sysBp:i.sysBp,diaBp:i.diaBp,classificationResults:i,date:d()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"hypertension-results-container"},i.a.createElement("div",{className:"hypertension-input"},i.a.createElement("label",null,"Date:"),i.a.createElement("input",{className:"date-input",value:this.state.classificationResults.date||this.state.date,readOnly:!0})),i.a.createElement("div",{className:"hypertension-input"},i.a.createElement("label",null,"Systolic Pressure:"),i.a.createElement("input",{className:"sys-bp-input",value:this.state.sysBp,onChange:this.handleSysBpChange})),i.a.createElement("div",{className:"hypertension-input"},i.a.createElement("label",null,"Diastolic Pressure:"),i.a.createElement("input",{className:"dia-bp-input",value:this.state.diaBp,onChange:this.handleDiaBpChange})),i.a.createElement("div",{className:"hypertension-input"},i.a.createElement("label",null,"Classification:"),i.a.createElement("p",{className:"classification-input ".concat(this.getClassificationHighlight(this.state.classificationResults.classification))},this.state.classificationResults.classification)),i.a.createElement("div",{className:"hypertension-input"},i.a.createElement("textarea",{className:"summaray-text-area",readOnly:!0,value:(e=this.state.classificationResults,JSON.stringify(e).replace(/,/g,"\n").replace(/:/g,": ").replace(/"/g,"").replace(/{/g,"").replace(/}/g,""))})),i.a.createElement("button",{className:"hypertension-classify-button",onClick:this.handleClick},"Classify"));var e}}]),t}(n.Component),D=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"list-container"},i.a.createElement(h,null),i.a.createElement(O,null))}}]),t}(n.Component),j=a(11),C=function(){return[{eGFR:110,atDate:"2018/10/20"},{eGFR:80,atDate:"2018/10/21"},{eGFR:60,atDate:"2018/10/25"},{eGFR:45,atDate:"2018/10/31"}]};function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var k=function(e){return e>=90?"Normal":e>=60?"Mildly Decreased":e>=45?"Mild to Moderate":e>=30?"Moderate to Severe":e>=15?"Severely Decreased":"Kidney Failure"},R=function(e,t){var a=parseFloat(((t-e)/e*100).toFixed(2));return a===1/0?t>e?100:-100:a},S=function(e){return e.sort((function(e,t){return f()(e.atDate,"YYYY/MM/DD.").diff(f()(t.atDate,"YYYY/MM/DD."))}))},P=function(e){var t=S(e),a=function(e){var t=S(e),a=[];return t.map((function(e,n){if(0===n)a.push(0);else{var i=R(t[n-1].eGFR,e.eGFR);a.push(i)}})),a}(t),n=[];return t.map((function(e,t){n.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(j.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{percentageChange:a[t]}))})),n},F=function(e){var t=S(e),a=t[t.length-1],n=k(a.eGFR),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=P(e),n=[];return a.map((function(e,i){0!==i&&Math.abs(e.percentageChange)>t&&n.push({initialReading:a[i-1],latestReading:e})})),n}(t);return{eGFR:a.eGFR,atDate:a.atDate,percentageChange:R(t[t.length-2].eGFR,a.eGFR),classification:n,drops:i}};function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var w=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={},a.handleEgfrChange=function(e){a.setState({eGFR:e.target.value})},a.handlePreviousEgfrChange=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(a,!0).forEach((function(t){Object(j.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state.previous,{eGFR:e.target.value});a.setState({previous:t})},a.handleClick=function(e){console.log("handleCLick");var t=k(a.state.eGFR),n=R(a.state.previous.eGFR,a.state.eGFR);console.log("classification",t),console.log("percentageChange",n),a.setState({percentageChange:n,classification:t})},a.getClassificationHighlight=function(e){return"Mildly Decreased"===e?"yellow":"Mild to Moderate"===e?"orange":"Moderate to Severe"===e?"orange-red":"Severely Decreased"===e?"red":"Kidney Failure"===e?"black":e.includes("Unclassified")?"unknown":""};var n=C(),i=F(n);return a.state={eGFR:i.eGFR,atDate:i.atDate,percentageChange:i.percentageChange,classification:i.classification,drops:i.drops,previous:i.drops[i.drops.length-1].initialReading},console.log("previous",a.state.previous),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"kidney-results-container"},i.a.createElement("div",{className:"kidney-results-inner-container"},i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Latest"),i.a.createElement("div",{className:"kidney-input"},i.a.createElement("label",null,"Date:"),i.a.createElement("label",{className:"classification"}," ",this.state.atDate)),i.a.createElement("div",{className:"kidney-input"},i.a.createElement("label",null,"eGFR:"),i.a.createElement("input",{className:"classification",value:this.state.eGFR,onChange:this.handleEgfrChange})),i.a.createElement("div",{className:"kidney-input"},i.a.createElement("label",null,"percentageChange:"),i.a.createElement("label",{className:"classification"},this.state.percentageChange)),i.a.createElement("div",{className:"kidney-input"},i.a.createElement("label",null,"classification:"),i.a.createElement("label",{className:"classification ".concat(this.getClassificationHighlight(this.state.classification))},this.state.classification)),i.a.createElement("hr",{className:"hr"}),i.a.createElement("h2",null,"Previous"),i.a.createElement("div",{className:"kidney-input"},i.a.createElement("label",null,"Date:"),i.a.createElement("label",{className:"classification"}," ",this.state.previous.atDate)),i.a.createElement("div",{className:"kidney-input"},i.a.createElement("label",null,"eGFR:"),i.a.createElement("input",{className:"classification",value:this.state.previous.eGFR,onChange:this.handlePreviousEgfrChange})),i.a.createElement("div",{className:"kidney-input"},i.a.createElement("label",null,"percentageChange:"),i.a.createElement("label",{className:"classification"},this.state.previous.percentageChange)),i.a.createElement("button",{className:"kidney-classify-button",onClick:this.handleClick},"Classify"))),i.a.createElement("div",{className:"kidney-results-inner-container"},i.a.createElement("h2",null,"All Drops"),i.a.createElement("textarea",{className:"kidney-text-area",readOnly:!0,value:(e=this.state.drops,JSON.stringify(e).replace(/\[/g,"").replace(/\]/g,"").replace(/,/g,"\n").replace(/:/g,": ").replace(/"/g,"").replace(/{/g,"").replace(/}}/g,"\n- - - - - - - - - - - - - - - - - - \n").replace(/}/g,"\n"))})));var e}}]),t}(n.Component),G=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"list-container"},i.a.createElement(h,null),i.a.createElement(w,null))}}]),t}(n.Component),M=a(19),Y=a(8),x=a(1),H=Object(x.a)(),J=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(M.a,{history:H},i.a.createElement(Y.a,{exact:!0,path:"/",component:D}),i.a.createElement(Y.a,{path:"/kidney-disease",component:G}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.af5fa2aa.chunk.js.map